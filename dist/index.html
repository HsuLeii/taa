<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Chart.js Grouped Stacked Bar &amp; Line Chart</title>
  

</head>
<body>
<!-- partial:index.partial.html -->
<div id="container" style="width: 75%;">
  <canvas id="canvas"></canvas>    
</div>
<canvas id="myChart1" height="300" width="500"></canvas>
    <canvas id="myChart2" height="300" width="500"></canvas>
<script>
  var barChartData = {
  labels: [
    "5月",
    "6月",
    "7月",
    "8月",
    "9月",
    "10月",
    "11月",
    "12月"
  ],
  datasets: [
    {
      label: '処方箋枚数(前年)',
      yAxisID: "line",
      backgroundColor: "pink",
      borderColor: "red",
      type: 'line',
      fill: false,
      data: [80, 130, 100, 140, 138, 125,110, 145],
    },
    {
      label: '処方箋枚数',
      yAxisID: "line",
      backgroundColor: "lightgreen",
      borderColor: "green",
      type: 'line',
      fill: false,
      data: [170, 175, 130, 115, 205,157],
    },
    {
      label: "新患数(前年)",
      yAxisID: 'bar-stack',
      backgroundColor: "pink",
      borderColor: "red",
      borderWidth: 1,
      stack: 'bef',
      data: [30, 50, 60, 70,30, 50, 60, 70]
    },
    {
      label: "Mastercard",
      yAxisID: 'bar-stack',
      backgroundColor: "lightblue",
      borderColor: "blue",
      borderWidth: 1,
      stack: 'bef',
      data: [40, 70, 30, 60, 100,70,40,60]
    },
    {
      label: "Paypal",
      yAxisID: 'bar-stack',
      backgroundColor: "lightgreen",
      borderColor: "green",
      borderWidth: 1,
      stack: 'now',
      data: [100,70,40,60,90,70]
    },
    {
      label: "Visa",
      yAxisID: "bar-stack",
      backgroundColor: "yellow",
      borderColor: "orange",
      borderWidth: 1,
      stack: 'now',
      data: [60,90,70,30,100,70]
    }
  ]
};

var chartOptions = {
  responsive: true,
  scales: {
    yAxes: [
    {
      id: "bar-stack",
      position: "left",
      stacked: true,
      ticks: {
        beginAtZero: true
      }
    },
    
    {
      id: "line",
      position: "right",
      stacked: false,
      ticks: {
        beginAtZero: true
      },
      gridLines: {
        drawOnChartArea: false, 
      },
    }]
  }
}

window.onload = function() {
  var ctx = document.getElementById("canvas").getContext("2d");
  window.myBar = new Chart(ctx, {
    type: "bar",
    data: barChartData,
    options: chartOptions
  });
};

</script>
<script>
var chartData = {
    labels: ["January", "February", "March", "April", "May", "June"],
    datasets: [
        {
            fillColor: "#79D1CF",
            strokeColor: "#79D1CF",
            data: [60, 80, 81, 56, 55, 40]
        }
    ]
};

var ctx = document.getElementById("myChart1").getContext("2d");
var myLine = new Chart(ctx).Line(chartData, {
    showTooltips: false,
    onAnimationComplete: function () {

        var ctx = this.chart.ctx;
        ctx.font = this.scale.font;
        ctx.fillStyle = this.scale.textColor
        ctx.textAlign = "center";
        ctx.textBaseline = "bottom";

        this.datasets.forEach(function (dataset) {
            dataset.points.forEach(function (points) {
                ctx.fillText(points.value, points.x, points.y - 10);
            });
        })
    }
});

var ctx = document.getElementById("myChart2").getContext("2d");
var myBar = new Chart(ctx).Bar(chartData, {
    showTooltips: false,
    onAnimationComplete: function () {

        var ctx = this.chart.ctx;
        ctx.font = this.scale.font;
        ctx.fillStyle = this.scale.textColor
        ctx.textAlign = "center";
        ctx.textBaseline = "bottom";

        this.datasets.forEach(function (dataset) {
            dataset.bars.forEach(function (bar) {
                ctx.fillText(bar.value, bar.x, bar.y - 5);
            });
        })
    }
});
</script>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js'></script>
<script src='https://rawgit.com/nnnick/Chart.js/v1.0.2/Chart.min.js'></script><script  src="./script.js"></script>

</body>
</html>
